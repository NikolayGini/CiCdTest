name: Manual Approval Workflow

run-name: Update release version to ${{ github.event.inputs.version }}  $(grep 'extra\["library_version_name"\] = "' Imperva-Development/build_constants.gradle.kts | sed 's/.*extra\["library_version_name"\] = "\(.*\)".*/\1/')

on:
  workflow_dispatch:
    inputs:
      version:
        description: 'Version to be updated in pubspec.yaml'
        required: true
        default: '0.0.0+1'

jobs:
  display-inputs:
    runs-on: ubuntu-latest

    steps:
      - name: Display inputs for approval
        run: |
          echo "Version to be updated: ${{ github.event.inputs.version }}"

  #  request-approval:
  request-approval:
    runs-on: ubuntu-latest
    needs: display-inputs
    environment:
      name: ci cd workflow
    steps:
      - name: Display inputs for approval
        run: echo "This is request-approval job"

